/* http://github.com/normanzb/ */!function(){var a,b,c,d=new Function("return this")(),e=d.define||function(a){var b=a();"undefined"!=typeof module&&(module.exports=b)||(d.cogs=b)};!function(d){function e(a,b){return u.call(a,b)}function f(a,b){var c,d,e,f,g,h,i,j,k,l,m,n=b&&b.split("/"),o=s.map,p=o&&o["*"]||{};if(a&&"."===a.charAt(0))if(b){for(n=n.slice(0,n.length-1),a=a.split("/"),g=a.length-1,s.nodeIdCompat&&w.test(a[g])&&(a[g]=a[g].replace(w,"")),a=n.concat(a),k=0;k<a.length;k+=1)if(m=a[k],"."===m)a.splice(k,1),k-=1;else if(".."===m){if(1===k&&(".."===a[2]||".."===a[0]))break;k>0&&(a.splice(k-1,2),k-=2)}a=a.join("/")}else 0===a.indexOf("./")&&(a=a.substring(2));if((n||p)&&o){for(c=a.split("/"),k=c.length;k>0;k-=1){if(d=c.slice(0,k).join("/"),n)for(l=n.length;l>0;l-=1)if(e=o[n.slice(0,l).join("/")],e&&(e=e[d])){f=e,h=k;break}if(f)break;!i&&p&&p[d]&&(i=p[d],j=k)}!f&&i&&(f=i,h=j),f&&(c.splice(0,h,f),a=c.join("/"))}return a}function g(a,b){return function(){return n.apply(d,v.call(arguments,0).concat([a,b]))}}function h(a){return function(b){return f(b,a)}}function i(a){return function(b){q[a]=b}}function j(a){if(e(r,a)){var b=r[a];delete r[a],t[a]=!0,m.apply(d,b)}if(!e(q,a)&&!e(t,a))throw new Error("No "+a);return q[a]}function k(a){var b,c=a?a.indexOf("!"):-1;return c>-1&&(b=a.substring(0,c),a=a.substring(c+1,a.length)),[b,a]}function l(a){return function(){return s&&s.config&&s.config[a]||{}}}var m,n,o,p,q={},r={},s={},t={},u=Object.prototype.hasOwnProperty,v=[].slice,w=/\.js$/;o=function(a,b){var c,d=k(a),e=d[0];return a=d[1],e&&(e=f(e,b),c=j(e)),e?a=c&&c.normalize?c.normalize(a,h(b)):f(a,b):(a=f(a,b),d=k(a),e=d[0],a=d[1],e&&(c=j(e))),{f:e?e+"!"+a:a,n:a,pr:e,p:c}},p={require:function(a){return g(a)},exports:function(a){var b=q[a];return"undefined"!=typeof b?b:q[a]={}},module:function(a){return{id:a,uri:"",exports:q[a],config:l(a)}}},m=function(a,b,c,f){var h,k,l,m,n,s,u=[],v=typeof c;if(f=f||a,"undefined"===v||"function"===v){for(b=!b.length&&c.length?["require","exports","module"]:b,n=0;n<b.length;n+=1)if(m=o(b[n],f),k=m.f,"require"===k)u[n]=p.require(a);else if("exports"===k)u[n]=p.exports(a),s=!0;else if("module"===k)h=u[n]=p.module(a);else if(e(q,k)||e(r,k)||e(t,k))u[n]=j(k);else{if(!m.p)throw new Error(a+" missing "+k);m.p.load(m.n,g(f,!0),i(k),{}),u[n]=q[k]}l=c?c.apply(q[a],u):void 0,a&&(h&&h.exports!==d&&h.exports!==q[a]?q[a]=h.exports:l===d&&s||(q[a]=l))}else a&&(q[a]=c)},a=b=n=function(a,b,c,e,f){if("string"==typeof a)return p[a]?p[a](b):j(o(a,b).f);if(!a.splice){if(s=a,s.deps&&n(s.deps,s.callback),!b)return;b.splice?(a=b,b=c,c=null):a=d}return b=b||function(){},"function"==typeof c&&(c=e,e=f),e?m(d,a,b,c):setTimeout(function(){m(d,a,b,c)},4),n},n.config=function(a){return n(a)},a._defined=q,c=function(a,b,c){b.splice||(c=b,b=[]),e(q,a)||e(r,a)||(r[a]=[a,b,c])},c.amd={jQuery:!0}}(),c("../node_modules/almond/almond",function(){}),c("cogs/global",[],function(){return new Function("return this;")()}),c("cogs/noop",[],function(){return function(){}}),c("cogs/ctor",["./global","./noop"],function(a,b){function c(){this.funcs=[]}var d,e="__callingChain__";c.prototype={has:function(a){for(var b=this.funcs,c=b.length;c--;)if(b[c]===a)return!0;return!1},add:function(a){this.funcs.unshift(a)}};var f=function(f,g){var h,i=null!=g,j=function(){var b,h,k;if(this==a||this==d)return h=Array.prototype.slice.call(arguments),b=new j,h=null,b;var l=this[e],m=!1;if(l||(this[e]=l=new c,m=!0),!l.has&&!l.add)throw"Pls do not occupy the member name:"+e+", it is reserved by cogs.ctor()";k=arguments,h&&(k=h),i&&!l.has(g)&&(g.apply(this,k),l.add(g)),l.has(f)||(f.apply(this,k),l.add(f)),m&&delete this[e]},k={};k.base=i?null!=g.prototype.__core__&&null!=g.prototype.__core__.wrapper?g.prototype.__core__.wrapper:g:null,k.ctor=f,k.wrapper=j,i&&(b.prototype=g.prototype,j.prototype=new b,j.base=g.prototype);for(var h in f.prototype)"constructor"!==h&&(j.prototype[h]=f.prototype[h]);return j.prototype.__core__=k,j.prototype.constructor=j,j},g=function(){var a,b=arguments.length;if(!(0>=b)){if(1===b)return f(arguments[b-1]);for(b--,a=arguments[b];b--;)a=f(arguments[b],a);return a}};return g}),c("cogs/stub",[],function(){function a(){throw"This method is not implemented yet."}var b=function(b,c){var d,e,f=b;if(!b)throw"Stub object must be specified";if("function"==typeof b&&(b=b.prototype),c&&0!=~~c.length){for(e=c;e--;)d=c[e],d in b||(b[d]=a);return f}};return b}),c("cogs/mixin",[],function(){function a(a,b){for(var d,e;null==d&&null!=a&&(d=c(a,b),e=Object.getPrototypeOf(a),e!==a);)a=e;return d}function b(b,e,f){var g,h;c?(g=c(e,f),h=a(b,f),null!=h&&(g.get||g.set)&&(g.get=g.get||h.get,g.set=g.set||h.set),d(b,f,g)):b[f]=e[f]}var c=Object.getOwnPropertyDescriptor,d=Object.defineProperty;try{Object.getOwnPropertyDescriptor({f:1},"f")}catch(e){c=undef,d=undef}var f=function(d){var e,f,g;if(d){var h=d;for("function"==typeof d&&(d=d.prototype),f=arguments.length;f--;)if(null!=arguments[f]){g=arguments[f],"function"==typeof g&&(g=g.prototype);for(e in g){var i=c?a(d,e):null;!g.hasOwnProperty(e)&&e in d&&(i?i&&i.value!=NOT_IMP:d[e]!=NOT_IMP)||b(d,g,e)}}return h}};return f}),c("cogs/observable",["./noop"],function(a){function b(){this.ref=null,this.next=null}function c(){return new b}function d(a){if("[object function]"!==Object.prototype.toString.call(a).toLowerCase())throw new Error("hookee is not a function")}function e(a){return d(a),this.cur.next=c(),this.cur=this.cur.next,this.cur.ref=a,!0}function f(a){d(a);for(var b=this.head,c=null;null!=b.next;)if(c=b,b=b.next,b.ref===a||null==a)return c.next=b.next,null==b.next&&(this.cur=c),b.ref=null,!0;return!1}function g(a){var b=this,c=function(){f.call(b,c),a.apply(this,arguments)};e.call(b,c)}function h(){for(var a=Array.prototype.slice.call(arguments,1),b=arguments[0],c=this.head,d=null,e=null,f=null;null!=c.next;)if(d=c,c=c.next,null!=c.ref){e=null;try{e=c.ref.apply(b,a)}catch(g){setTimeout(function(){throw g},0)}null!=e&&(f=e)}return f}function i(b){var d=b?b:function(){return d.invoke.apply(this,arguments)};return d.head=c(),d.head.ref=a,d.cur=d.head,d.hook=e,d.once=g,d.unhook=f,d.invoke=function(){var a=Array.prototype.slice.call(arguments);a.unshift(this),h.apply(d,a)},d}return i.EventLinkBox=b,i}),c("cogs/event",["./observable"],function(a){function b(){var b=a();b.onHook=a(),b.onUnhook=a();var c=b.hook,d=b.once;b.hook=function(a){return b.onHook(this,a)===!1?!1:c.apply(this,arguments)},b.once=function(a){return b.onHook(this,a)===!1?!1:d.apply(this,arguments)};var e=b.unhook;return b.unhook=function(a){return b.onUnhook(this,a)===!1?!1:e.apply(this,arguments)},b}function c(a,c){var d=a.charAt(0).toUpperCase()+a.substr(1),e=this[f+d];if(e||(e=b(),this[f+d]=e),!e.hook)throw"The member name '"+a+"' is occupied.";e.hook(c)}function d(b,c){if(b){var e=b.charAt(0).toUpperCase()+b.substr(1),g=this[f+e];if(g){if(!g.unhook)throw"The member name '"+b+"' might be over written.";g.unhook(c)}}else for(var h in this)0==h.indexOf(f)&&this[h].head instanceof a.EventLinkBox&&d(h.substr(2))}function e(a){var b,c=[a.charAt(0).toUpperCase(),a.substr(1)].join(""),d=this[f+c];d&&(b=Array.prototype.slice.call(arguments,1),d.apply(this,b))}var f="on";return b.onFunc=c,b.offFunc=d,b.emitFunc=e,b}),c("cogs/emittable",["./event"],function(a){function b(b){return b.on=a.onFunc,b.off=a.offFunc,b.emit=a.emitFunc,b}return b(b.prototype),b}),c("cogs/prop",["require"],function(){function a(){return this.value}function b(a){return this.value=a,a}function c(c,d){var e,f;return null==c&&null==d&&(f={},c=bind.call(a,f),d=bind.call(b,f)),e=function(a){if(a===undef)return c.apply(this);if(!d)throw"Setting readonly property";return d.apply(this,arguments)},e.getter=c,e.setter=d,e}return c}),c("cogs",["./cogs/ctor","./cogs/noop","./cogs/stub","./cogs/mixin","./cogs/observable","./cogs/event","./cogs/emittable","./cogs/prop"],function(a,b,c,d,e,f,g,h){var i={};if(Object.defineProperty)try{Object.defineProperty(i,"noop",{writable:!1,configurable:!1,value:b})}catch(j){}return i.noop||(i.noop=b),i.ctor=a,i.stub=c,i.mixin=d,i.observable=e,i.event=f,i.emittable=g,i.prop=h,i}),e(function(){return b("cogs")})}();